{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\resources\\resources\\scriptes/assets\\resources\\resources\\scriptes\\logoninfo.js"],"names":["CreatorHelper","require","UnitTools","Config","cc","Class","extends","Component","properties","accountBox","EditBox","passwordBox","confirpasswordBox","headUrl","logonbtn","Button","urlBtn","head","Sprite","onLoad","node","on","Node","EventType","TOUCH_START","args","string","changeSpriteFrameWithServerUrl","request","LogonUrl","account","pass","err","data","log","JSON","parse","ok","suc","director","loadScene","alert","start"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIA,gBAAgBC,QAAQ,eAAR,CAApB;AACA,IAAIC,YAAYD,QAAQ,WAAR,CAAhB;AACA,IAAIE,SAASF,QAAQ,QAAR,CAAb;AACAG,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,oBAAWL,GAAGM,OAhBN;AAiBRC,qBAAYP,GAAGM,OAjBP;AAkBRE,2BAAkBR,GAAGM,OAlBb;AAmBRG,iBAAQT,GAAGM,OAnBH;AAoBRI,kBAASV,GAAGW,MApBJ;AAqBRC,gBAAOZ,GAAGW,MArBF;AAsBRE,cAAKb,GAAGc;AAtBA,KAHP;;AA4BL;;AAEAC,UA9BK,oBA8BK;AACN,aAAKC,IAAL,CAAUC,EAAV,CAAajB,GAAGkB,IAAH,CAAQC,SAAR,CAAkBC,WAA/B,EAA2C,UAAUC,IAAV,EAAgB;AACvD,gBAAG,KAAKhB,UAAL,CAAgBiB,MAAhB,IAAwB,EAAxB,IAA4B,KAAKf,WAAL,CAAiBe,MAAjB,IAAyB,EAArD,IAAyD,KAAKd,iBAAL,CAAuBc,MAAvB,IAA+B,EAAxF,IAA4F,KAAKb,OAAL,CAAaa,MAAb,IAAqB,EAApH,EAAuH;AACnH1B,8BAAc2B,8BAAd,CAA6C,KAAKV,IAAlD,EAAuD,KAAKJ,OAAL,CAAaa,MAApE;AACA,oBAAG,KAAKf,WAAL,CAAiBe,MAAjB,KAA0B,KAAKd,iBAAL,CAAuBc,MAApD,EAA2D;AACvDxB,8BAAU0B,OAAV,CAAkBzB,OAAO0B,QAAzB,EAAkC,EAACC,SAAQ,KAAKrB,UAAL,CAAgBiB,MAAzB,EAAgCK,MAAK,KAAKpB,WAAL,CAAiBe,MAAtD,EAA6DT,MAAK,KAAKJ,OAAL,CAAaa,MAA/E,EAAlC,EAAyH,UAAUM,GAAV,EAAcC,IAAd,EAAoB;AACzI,4BAAGD,GAAH,EAAO;AACH5B,+BAAG8B,GAAH,CAAO,iBAAP;AACA9B,+BAAG8B,GAAH,CAAOD,IAAP;AACA;AACH;AACDA,+BAAOE,KAAKC,KAAL,CAAWH,IAAX,CAAP;AACA7B,2BAAG8B,GAAH,CAAO,4BAAP,EAAqC9B,GAAG8B,GAAH,CAAOD,KAAKI,EAAZ;AACrC,4BAAGJ,KAAKI,EAAL,IAAS,IAAT,IAAiBJ,KAAKK,GAAL,IAAU,IAA9B,EAAmC;AAC/BlC,+BAAGmC,QAAH,CAAYC,SAAZ,CAAsB,OAAtB;AACH,yBAFD,MAEM,IAAGP,KAAKI,EAAL,IAAS,IAAT,IAAiBJ,KAAKK,GAAL,IAAU,KAA9B,EAAoC;AACtCG,kCAAM,cAAN;AACH,yBAFK,MAEA,IAAGR,KAAKI,EAAL,IAAS,KAAT,IAAkBJ,KAAKK,GAAL,IAAU,KAA/B,EAAqC;AACvCG,kCAAM,mCAAN;AACA,iCAAKhC,UAAL,CAAgBiB,MAAhB,GAAyB,EAAzB;AACH;AACJ,qBAhBD;AAiBH,iBAlBD,MAkBK;AACDe,0BAAM,wBAAN;AACA,yBAAK9B,WAAL,CAAiBe,MAAjB,GAA0B,EAA1B;AACA,yBAAKd,iBAAL,CAAuBc,MAAvB,GAAgC,EAAhC;AACH;AACJ,aAzBD,MAyBK;AACDe,sBAAM,0BAAN;AACH;AACJ,SA7BD,EA6BE,IA7BF;AA8BH,KA7DI;AA+DLC,SA/DK,mBA+DI,CAER;AAjEI;;AAmEL;AAnEJ","file":"logoninfo.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\resources\\resources\\scriptes","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\nvar CreatorHelper = require(\"CreatorHelper\");\r\nvar UnitTools = require('UnitTools');\r\nvar Config = require('Config');\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        accountBox:cc.EditBox,\r\n        passwordBox:cc.EditBox,\r\n        confirpasswordBox:cc.EditBox,\r\n        headUrl:cc.EditBox,\r\n        logonbtn:cc.Button,\r\n        urlBtn:cc.Button,\r\n        head:cc.Sprite\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.node.on(cc.Node.EventType.TOUCH_START,function (args) {\r\n            if(this.accountBox.string!=''&&this.passwordBox.string!=''&&this.confirpasswordBox.string!=''&&this.headUrl.string!=''){\r\n                CreatorHelper.changeSpriteFrameWithServerUrl(this.head,this.headUrl.string);\r\n                if(this.passwordBox.string===this.confirpasswordBox.string){\r\n                    UnitTools.request(Config.LogonUrl,{account:this.accountBox.string,pass:this.passwordBox.string,head:this.headUrl.string},function (err,data) {\r\n                        if(err){\r\n                            cc.log(\"Log On Error!!!\");\r\n                            cc.log(data);\r\n                            return;\r\n                        }\r\n                        data = JSON.parse(data);\r\n                        cc.log(\"Test registration results:\");cc.log(data.ok);\r\n                        if(data.ok==true && data.suc==true){\r\n                            cc.director.loadScene(\"login\");\r\n                        }else if(data.ok==true && data.suc==false){\r\n                            alert('Log On Faile');\r\n                        }else if(data.ok==false && data.suc==false){\r\n                            alert('User name exists, please re-enter');\r\n                            this.accountBox.string = '';\r\n                        }\r\n                    });\r\n                }else{\r\n                    alert('Confirm password error');\r\n                    this.passwordBox.string = '';\r\n                    this.confirpasswordBox.string = '';\r\n                }\r\n            }else{\r\n                alert('Please Input Information');\r\n            }\r\n        },this);\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}