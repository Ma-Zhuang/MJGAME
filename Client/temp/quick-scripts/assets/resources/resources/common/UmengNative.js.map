{"version":3,"sources":["UmengNative.js"],"names":["PlatForm","require","UmengNative","onLoginSuceessCb","onShareSuceessCb","weixinLogin","cb","androidWithNoArgs","iosNativeWithNoArgs","weixinShare","title","desc","imageUrl","webUrl","androidNative","iosNative","weixinFriendShare","weixinFriendShareWithLocalImg","weixinLoginSuccess","isOK","openid","unionid","access_token","refresh_token","expires_in","screen_name","city","prvinice","country","gender","profile_image_url","data","weixinShareSuccess","isWeixinInstalled","isAnroid","isIOS","module","exports"],"mappings":"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","file":"UmengNative.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\resources\\resources\\common","sourcesContent":["/**\r\n * Created by litengfei on 16/12/5.\r\n */\r\nvar PlatForm = require(\"PlatForm\");\r\nfunction UmengNative(){\r\n\r\n}\r\nUmengNative.onLoginSuceessCb = null;\r\nUmengNative.onShareSuceessCb = null;\r\n\r\nUmengNative.weixinLogin = function(cb){\r\n    //返回玩家信息\r\n    UmengNative.onLoginSuceessCb = cb;\r\n    //调用微信登录\r\n    PlatForm.androidWithNoArgs(\"com/tongfei/umeng/UmengManager\",\"weixinLogin\");\r\n    PlatForm.iosNativeWithNoArgs(\"UmengManager\",\"weixinLogin:\");\r\n}\r\n\r\nUmengNative.weixinShare = function(title,desc,imageUrl,webUrl,cb){//微信朋友圈分享\r\n    //微信朋友圈分享\r\n    UmengNative.onShareSuceessCb = cb;\r\n    PlatForm.androidNative(\"com/tongfei/umeng/UmengManager\", \"weixinShare\", \"(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V\", title, desc, imageUrl, webUrl);\r\n    PlatForm.iosNative(\"UmengManager\", \"weixinShare:descr:imageUrl:webUrl:\", title, desc, imageUrl, webUrl);\r\n}\r\n\r\nUmengNative.weixinFriendShare = function(title,desc,imageUrl,webUrl,cb){\r\n    //微信朋友圈分享\r\n    UmengNative.onShareSuceessCb = cb;\r\n    PlatForm.androidNative(\"com/tongfei/umeng/UmengManager\", \"weixinFriendShare\", \"(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V\", title, desc, imageUrl, webUrl);\r\n    PlatForm.iosNative(\"UmengManager\", \"weixinFriendShare:descr:imageUrl:webUrl:\", title, desc, imageUrl, webUrl);\r\n}\r\n//分享朋友本地图片\r\nUmengNative.weixinFriendShareWithLocalImg=function (imageUrl,cb) {\r\n    UmengNative.onShareSuceessCb = cb;\r\n    PlatForm.androidNative(\"com/tongfei/umeng/UmengManager\", \"weixinFriendShareWithLocalImg\", \"(Ljava/lang/String;)V\", imageUrl);\r\n    PlatForm.iosNative(\"UmengManager\", \"weixinShareImage:\", imageUrl);\r\n}\r\n\r\nUmengNative.weixinLoginSuccess = function(isOK,openid, unionid, access_token, refresh_token, expires_in, screen_name, city, prvinice, country, gender, profile_image_url){\r\n    var data = {};\r\n    data.isOK = isOK;\r\n    data[\"openid\"] = openid;\r\n    data[\"unionid\"] = unionid;\r\n    data[\"access_token\"] = access_token;\r\n    data[\"refresh_token\"] = refresh_token;\r\n    data[\"expires_in\"] = expires_in;\r\n    data[\"screen_name\"] = screen_name;\r\n    data[\"city\"] = city;\r\n    data[\"prvinice\"] = prvinice;\r\n    data[\"country\"] = country;\r\n    data[\"gender\"] = gender;\r\n    data[\"profile_image_url\"] = profile_image_url;\r\n    UmengNative.onLoginSuceessCb(data);\r\n}\r\n\r\nUmengNative.weixinShareSuccess = function(isOK){//微信分享成功\r\n    UmengNative.onShareSuceessCb(isOK);\r\n}\r\n\r\nUmengNative.isWeixinInstalled = function(){\r\n    if(PlatForm.isAnroid()){\r\n        return true;\r\n        //return PlatForm.androidNative(\"com/tongfei/umeng/UmengManager\",\"isWeixinInstalled\",\"(Ljava/lang/String;)Z\",\"\");\r\n    }\r\n\r\n    if(PlatForm.isIOS()){\r\n        return PlatForm.iosNativeWithNoArgs(\"UmengManager\",\"isWeixinInstalled:\",\"\");\r\n    }\r\n\r\n    return false;\r\n}\r\nmodule.exports = UmengNative;"]}